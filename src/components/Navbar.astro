---
import Header from "../components/Header.react.jsx";
import { getCollection } from "astro:content";

// Get all courses from the courses collection
const allCourses = await getCollection("courses");
const courses = allCourses.sort(
	(a, b) => (a.data.order || 999) - (b.data.order || 999),
);

// Generate menu items from courses
const menuItems = courses.map((course) => ({
	label: course.data.title,
	href: `/courses/${course.id}`,
}));

const siteTitle = "After My College";
---

<Header client:load siteTitle={siteTitle} menuItems={menuItems as any} />
